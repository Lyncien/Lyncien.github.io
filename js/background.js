var backgroundAutoIntervalId,backgroundIdx=parseInt(localStorage.getItem("background-index")||"1"),backgroundAuto=localStorage.getItem("background-auto")||"true";function changeBackgroundAndAnimation(){localStorage.setItem("background-index",backgroundIdx),document.documentElement.style.backgroundImage='url("/img/bg'+backgroundIdx+'.webp")',window.changeBackgroundAnimationType&&window.changeBackgroundAnimationType(backgroundIdx)}window.addEventListener("DOMContentLoaded",function(){for(var n=document.querySelectorAll("#setting-msg-box button"),e=0;e<n.length;e++)n[e].addEventListener("click",function(){backgroundIdx=parseInt(this.dataset.idx),changeBackgroundAndAnimation()});var t=document.querySelector('#setting-msg-box input[type="checkbox"]');t.checked="true"==backgroundAuto,t.addEventListener("change",function(){console.log(this.checked),backgroundAuto=this.checked?"true":"false",localStorage.setItem("background-auto",backgroundAuto),backgroundAutoIntervalId="true"==backgroundAuto?setInterval(function(){backgroundIdx=backgroundIdx%4+1,changeBackgroundAndAnimation()},6e4):void clearInterval(backgroundAutoIntervalId)}),t.dispatchEvent(new Event("change"))}),changeBackgroundAndAnimation();